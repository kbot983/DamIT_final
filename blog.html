<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <script src="js/mixitup.min.js"></script>
    <title>Blog</title>

    <!-- Lato Font -->
    <link href='http://fonts.googleapis.com/css?family=Lato:300,400,700' rel='stylesheet' type='text/css'>

    <!-- Stylesheet -->
    <link href="css/gallery-materialize.min.css" rel="stylesheet">

    <!-- Material Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

</head>

<body class="blog">

    <!-- Navbar and Header -->
    <nav class="nav-extended tranparent">
        <div style="background-image: url('img/blog2.jpg');">
            <div class="nav-wrapper container">
                <a href="index.html" class="brand-logo">DamIT</a>
                <a href="#" data-activates="nav-mobile" class="button-collapse"><i class="material-icons">menu</i></a>
                <!-- Dropdown Structure -->
                <div class="nav-header center">
                    <h1>DAM GUIDE</h1>
                    <div class="tagline" style="font-size: 19px; margin: -30px 0px 15px 0;">Get Dam Info Here</div>
                </div>
            </div>
            <!-- Fixed Masonry Filters -->
            <div class="container">
                <div class="row shortRow">
                    <div class="input-field col l8  s10 white black-text">
                        <i class="material-icons prefix ">search</i>
                        <input id="icon_prefix autocomplete-input" type="text" data-ref="input-search" class="validate autocomplete">
                    </div>
                    <div class="col l1  s2">
                        <a class="waves-effect waves-light btn-flat" onclick="Materialize.updateTextFields()"><i class="material-icons">close</i></a>
                    </div>
                </div>
            </div>

        </div>
    </nav>
    <ul id="nav-mobile" class="side-nav">
        <li>
            <div class="userView ">
                <div class="background" style="background-image: url('img/cover1.jpg');background-size:cover ;">
                    <br><br><br><br>
                </div>
                <a href="#!user">
                    <img class="circle" src="img/prsn.jpg">
                </a>
                <!--img/prsn.jpg"-->
                <a href="#!name">
                    <span class="white-text name">Chintan Popat</span>
                </a>
                <a href="#!email">
                    <span class="white-text email">email@domain.com</span>
                </a>
            </div>
        </li>
        <li>
            <a href="userview.html">Home</a>
        </li>
        <li>
            <a href="UserSchedule.html">Schedule</a>
        </li>
        <li>
            <a href="#">Dam Guide</a>
        </li>
        <li>
            <a class='dropdown-button white' href='#' data-activates='dropdown1'>Change Language</a>

            <ul id='dropdown1' class='dropdown-content '>
                <li><a href="#!" class="blue-text">Hindi</a></li>
                <li><a href="#!" class="blue-text">English</a></li>
                <li><a href="#!" class="blue-text">Gujarati</a></li>
                <li><a href="#!" class="blue-text">Marathi</a></li>
            </ul>
        </li>
        <li>
            <div class="divider"></div>
        </li>
    </ul>
    </ul>


    <div id="portfolio" class="section gray">
        <div class="container" data-ref="container">
            <div class="gallery row" id="rowdata">

            </div>
        </div>
    </div>
    <!-- /.container -->


    <!-- Core Javascript -->
    <script src="js/jquery.min.js"></script>
    <script src="materialize-v0.100.2/materialize/js/materialize.min.js"></script>
    <script>
        $(document).ready(function() {
            var url = "http://www.occasionz.in/damit/dam_desc.php";
            $.ajax({
                url: url,
                async: false,
                type: 'post',
                data: "give me the data",
                success: function(response) {
                    console.log(response);
                    result = JSON.parse(response);
                    $.each(result, function(i, field) {
                        console.log(i);
                        console.log(field);
                        var content = `
                    <div id="` + field.sr_no +`" class="col l4 m6 s12 gallery-item gallery-expand gallery-filter overhead mix ` + field.name.toLowerCase() + `">
                      <div class="gallery-curve-wrapper">
                        <a class="gallery-cover gray" style="height: 300px;">
                          <img src="img/cover1.jpg" alt="placeholder">
                        </a>
                        <div class="gallery-header">
                          <span>` +
                            field.name + `</span>
                        </div>
                        <div class="gallery-body">
                          <div class="title-wrapper">
                            <h3>` +
                            field.name +
                            `</h3>
                          </div>

                           <div class="carousel">
                                <a class="carousel-item" href="#one!"><img src="img/1.jpg"></a>
                                <a class="carousel-item" href="#two!"><img src="img/2.jpg"></a>
                                <a class="carousel-item" href="#three!"><img src="img/3.jpg"></a>
                                <a class="carousel-item" href="#four!"><img src="img/4.jpg"></a>
                                <a class="carousel-item" href="#five!"><img src="img/5.jpg"></a>
                            </div>
                          <p class="description">
                          ` +
                            field.description +
                            `
                          </p>
                        </div>
                        <div class="gallery-action">
                          <a class="btn-floating btn-large waves-effect waves-light"><i class="material-icons">favorite</i></a>
                        </div>
                      </div>
                    </div>
                    </div>
                    `;

                        $('#rowdata').append(content);
                    });


                    var container = document.getElementById('rowdata');
                    var inputSearch = document.querySelector('[data-ref="input-search"]');
                    var keyupTimeout;
                    var mixer = mixitup(container, {
                        animation: {
                            duration: 350
                        },
                        callbacks: {
                            onMixClick: function() {
                                // Reset the search if a filter is clicked
                                if (this.matches('[data-filter]')) {
                                    inputSearch.value = '';
                                }
                            }
                        }
                    });
                    // Set up a handler to listen for "keyup" events from the search input
                    inputSearch.addEventListener('keyup', function() {
                        var searchValue;
                        if (inputSearch.value.length < 3) {
                            // If the input value is less than 3 characters, don't send
                            searchValue = '';
                        } else {
                            searchValue = inputSearch.value.toLowerCase().trim();
                        }
                        // Very basic throttling to prevent mixer thrashing. Only search
                        // once 350ms has passed since the last keyup event
                        clearTimeout(keyupTimeout);
                        keyupTimeout = setTimeout(function() {
                            filterByString(searchValue);
                        }, 350);
                    });
                    /**
                     * Filters the mixer using a provided search string, which is matched against
                     * the contents of each target's "class" attribute. Any custom data-attribute(s)
                     * could also be used.
                     *
                     * @param  {string} searchValue
                     * @return {void}
                     */
                    function filterByString(searchValue) {
                        if (searchValue) {
                            // Use an attribute wildcard selector to check for matches
                            mixer.filter('[class*="' + searchValue + '"]');
                        } else {
                            // If no searchValue, treat as filter('all')
                            mixer.filter('all');
                        }
                    }
                }
            });
        });
    </script>
    <script src="js/imagesloaded.pkgd.min.js"></script>
    <script src="js/masonry.pkgd.min.js"></script>
    <script src="js/galleryExpand.js"></script>
    <script src="js/init.js"></script>
</body>

</html>
